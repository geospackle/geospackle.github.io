<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

	<!-- Basic Page Needs
  ================================================== -->
	<meta charset="utf-8">
	<title>Portfolio | Antti Moelsae</title>
	<meta name="description" content="">
	<meta name="author" content="">

	<!-- Mobile Specific Metas
  ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- CSS
  ================================================== -->
	<link rel="stylesheet" href="stylesheets/base.css">
	<link rel="stylesheet" href="stylesheets/skeleton.css">
	<link rel="stylesheet" href="stylesheets/layout.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />



	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Favicons
	================================================== -->
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">

</head>
<body class="home">



	<!-- Primary Page Layout
	================================================== -->


<header id="header" class="site-header" role="banner">
      <div id="headerContainer" style="height:101px"></div>

    <script>
      // Fetch and inject the header content
      fetch("header.html")
        .then((response) => response.text())
        .then((html) => {
          document.getElementById("headerContainer").innerHTML = html;
        })
        .catch((error) => console.error("Error fetching header:", error));
    </script>
</header>

	<div class="container">

        <article class="sixteen columns main-content">
					<div class="rubric">
					<p style="margin:10px 10px 10px 10px">Data System Design</p>
					 </div>
<br>
<div>
	<p class="two-thirds column alpha">
	</p>

				
<a href="images/backfill_design.png" data-fancybox="" data-title="BackfillSystem" class="two-thirds column alpha" style="padding-bottom: 30px">
<div class="highlight">
<img src="images/backfill_design.png">
</div>
</a>
	<p class="one-third column omega">
  This diagram describes a general design for a backfill subsystem to replace a legacy service where transformations are live computed on each request. The new system leverages the legacy system's code but stores the transformed data for quick retrieval. This poses a few challenges as data needs to be backfilled constantly, triggered on events via SNS topic or Github Action CI. 
	</p>


<a href="images/dynamo_model.png" data-fancybox="" data-title="DynamoModel" class="two-thirds column alpha" style="padding-bottom: 30px">
<div class="highlight">
<img src="images/dynamo_model.png">
</div>
</a>
	<p class="one-third column omega">
  DynamoDB is an excellent candidate for a timeseries data store of IoT data because of its horizontal scalability and low-latency reads and writes, regardless of table size. However, data access patterns need to be hashed out in advance since they are "baked-in" in the data model. For this use case the requirements were thankfully simple:
  <br>  1. Fetch data over a time range for SensorID and data version. 
  <br>  2. Get all available metadata for a DeviceID or SensorID.
  <br>  3. List all available sensors for a DeviceID.
  <br>  4. List all data versions for a SensorID.
  <br>
  <br>

  A secondary index is used to model a one-to-many relationship for metadata-data as metadata will always be identical for a device/sensor/version combination. 
  <br>
  Ingestion polls for new data every 10 minutes. This being a write-heavy system, 1 second frequency data is stored as a series of 600 values on each row in order to save write capacity as each write costs 1 WCU up to 1kB.
	</p>

        </article>
        <!-- End main Content -->
</div>

    </div>

		<footer>

		<div class="footer-inner container">
		<div id="footer-base">
		<div class="container">
		<div class="eight columns">
			Frame: <a href="http://www.opendesigns.org/design/icebrrrg/">Icebrrg Website Template</a>
			</div>

			<div class="eight columns far-edge">Antti Moelsae &copy; 2024
		</div>
		</div>
		</div>

		</footer>

<!-- End Document
================================================== -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" type="text/javascript"></script>

</body>
</html>
